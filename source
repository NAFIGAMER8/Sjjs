-- Main GUI Creation
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Tabs = Instance.new("Frame")
local AdminTabButton = Instance.new("TextButton")
local UtilitiesTabButton = Instance.new("TextButton")
local PlayerTabButton = Instance.new("TextButton")

-- Tabs
local AdminTab = Instance.new("Frame")
local UtilitiesTab = Instance.new("Frame")
local PlayerTab = Instance.new("Frame")

-- Parent GUI to Player's Screen
ScreenGui.Parent = game.CoreGui

-- Main Frame
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
MainFrame.Size = UDim2.new(0, 400, 0, 700)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -350)
MainFrame.Active = true
MainFrame.Draggable = true

-- Title
Title.Parent = MainFrame
Title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "Ultimate Hack GUI"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18

-- Tabs
Tabs.Parent = MainFrame
Tabs.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Tabs.Size = UDim2.new(1, 0, 0, 40)
Tabs.Position = UDim2.new(0, 0, 0.1, 0)

-- Admin Tab Button
AdminTabButton.Parent = Tabs
AdminTabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
AdminTabButton.Size = UDim2.new(0.33, -5, 1, 0)
AdminTabButton.Position = UDim2.new(0, 0, 0, 0)
AdminTabButton.Text = "Admin"
AdminTabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AdminTabButton.Font = Enum.Font.Gotham
AdminTabButton.TextSize = 14

-- Utilities Tab Button
UtilitiesTabButton.Parent = Tabs
UtilitiesTabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
UtilitiesTabButton.Size = UDim2.new(0.33, -5, 1, 0)
UtilitiesTabButton.Position = UDim2.new(0.33, 5, 0, 0)
UtilitiesTabButton.Text = "Utilities"
UtilitiesTabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
UtilitiesTabButton.Font = Enum.Font.Gotham
UtilitiesTabButton.TextSize = 14

-- Player Tab Button
PlayerTabButton.Parent = Tabs
PlayerTabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
PlayerTabButton.Size = UDim2.new(0.33, -5, 1, 0)
PlayerTabButton.Position = UDim2.new(0.66, 5, 0, 0)
PlayerTabButton.Text = "Player"
PlayerTabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayerTabButton.Font = Enum.Font.Gotham
PlayerTabButton.TextSize = 14

-- Admin Tab
AdminTab.Parent = MainFrame
AdminTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
AdminTab.Size = UDim2.new(1, 0, 0.8, -60)
AdminTab.Position = UDim2.new(0, 0, 0.2, 0)
AdminTab.Visible = true

-- Utilities Tab
UtilitiesTab.Parent = MainFrame
UtilitiesTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
UtilitiesTab.Size = UDim2.new(1, 0, 0.8, -60)
UtilitiesTab.Position = UDim2.new(0, 0, 0.2, 0)
UtilitiesTab.Visible = false

-- Player Tab
PlayerTab.Parent = MainFrame
PlayerTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
PlayerTab.Size = UDim2.new(1, 0, 0.8, -60)
PlayerTab.Position = UDim2.new(0, 0, 0.2, 0)
PlayerTab.Visible = false

-- Infinite Yield Button
local InfiniteYieldButton = Instance.new("TextButton")
InfiniteYieldButton.Parent = AdminTab
InfiniteYieldButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
InfiniteYieldButton.Size = UDim2.new(1, -20, 0, 30)
InfiniteYieldButton.Position = UDim2.new(0, 10, 0, 10)
InfiniteYieldButton.Text = "Load Infinite Yield"
InfiniteYieldButton.TextColor3 = Color3.fromRGB(255, 255, 255)
InfiniteYieldButton.Font = Enum.Font.Gotham
InfiniteYieldButton.TextSize = 14

InfiniteYieldButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
end)

-- Gravity Slider
local GravitySlider = Instance.new("TextBox")
GravitySlider.Parent = AdminTab
GravitySlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
GravitySlider.Size = UDim2.new(1, -20, 0, 30)
GravitySlider.Position = UDim2.new(0, 10, 0, 50)
GravitySlider.Text = "Gravity: 196.2"
GravitySlider.TextColor3 = Color3.fromRGB(255, 255, 255)
GravitySlider.Font = Enum.Font.Gotham
GravitySlider.TextSize = 14

GravitySlider.FocusLost:Connect(function()
    local gravity = tonumber(GravitySlider.Text:match("%d+"))
    if gravity then
        workspace.Gravity = gravity
        GravitySlider.Text = "Gravity: " .. gravity
    end
end)

-- WalkSpeed Slider
local WalkSpeedSlider = Instance.new("TextBox")
WalkSpeedSlider.Parent = PlayerTab
WalkSpeedSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
WalkSpeedSlider.Size = UDim2.new(1, -20, 0, 30)
WalkSpeedSlider.Position = UDim2.new(0, 10, 0, 10)
WalkSpeedSlider.Text = "WalkSpeed: 16"
WalkSpeedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
WalkSpeedSlider.Font = Enum.Font.Gotham
WalkSpeedSlider.TextSize = 14

WalkSpeedSlider.FocusLost:Connect(function()
    local speed = tonumber(WalkSpeedSlider.Text:match("%d+"))
    if speed then
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = speed
        WalkSpeedSlider.Text = "WalkSpeed: " .. speed
    end
end)

-- JumpPower Slider
local JumpPowerSlider = Instance.new("TextBox")
JumpPowerSlider.Parent = PlayerTab
JumpPowerSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
JumpPowerSlider.Size = UDim2.new(1, -20, 0, 30)
JumpPowerSlider.Position = UDim2.new(0, 10, 0, 50)
JumpPowerSlider.Text = "JumpPower: 50"
JumpPowerSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
JumpPowerSlider.Font = Enum.Font.Gotham
JumpPowerSlider.TextSize = 14

JumpPowerSlider.FocusLost:Connect(function()
    local power = tonumber(JumpPowerSlider.Text:match("%d+"))
    if power then
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = power
        JumpPowerSlider.Text = "JumpPower: " .. power
    end
end)

-- Teleport to Player
local TeleportBox = Instance.new("TextBox")
TeleportBox.Parent = PlayerTab
TeleportBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
TeleportBox.Size = UDim2.new(1, -20, 0, 30)
TeleportBox.Position = UDim2.new(0, 10, 0, 90)
TeleportBox.Text = "Enter Player Name"
TeleportBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TeleportBox.Font = Enum.Font.Gotham
TeleportBox.TextSize = 14

TeleportBox.FocusLost:Connect(function()
    local targetPlayerName = TeleportBox.Text
    local targetPlayer = game.Players:FindFirstChild(targetPlayerName)

    if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
    else
        TeleportBox.Text = "Player not found"
    end
end)

-- Tabs Switching Logic
AdminTabButton.MouseButton1Click:Connect(function()
    AdminTab.Visible = true
    UtilitiesTab.Visible = false
    PlayerTab.Visible = false
end)

UtilitiesTabButton.MouseButton1Click:Connect(function()
    AdminTab.Visible = false
    UtilitiesTab.Visible = true
    PlayerTab.Visible = false
end)

PlayerTabButton.MouseButton1Click:Connect(function()
    AdminTab.Visible = false
    UtilitiesTab.Visible = false
    PlayerTab.Visible = true
end)

-- Noclip Toggle
local NoClipButton = Instance.new("TextButton")
NoClipButton.Parent = AdminTab
NoClipButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
NoClipButton.Size = UDim2.new(1, -20, 0, 30)
NoClipButton.Position = UDim2.new(0, 10, 0, 90)
NoClipButton.Text = "Noclip [OFF]"
NoClipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
NoClipButton.Font = Enum.Font.Gotham
NoClipButton.TextSize = 14

local noclip = false
NoClipButton.MouseButton1Click:Connect(function()
    noclip = not noclip
    NoClipButton.Text = noclip and "Noclip [ON]" or "Noclip [OFF]"
    game:GetService("RunService").Stepped:Connect(function()
        if noclip and game.Players.LocalPlayer.Character then
            for _, part in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end)

-- ESP Toggle
local ESPButton = Instance.new("TextButton")
ESPButton.Parent = UtilitiesTab
ESPButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ESPButton.Size = UDim2.new(1, -20, 0, 30)
ESPButton.Position = UDim2.new(0, 10, 0, 10)
ESPButton.Text = "Enable ESP"
ESPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPButton.Font = Enum.Font.Gotham
ESPButton.TextSize = 14

local espEnabled = false
local highlights = {}

ESPButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    ESPButton.Text = espEnabled and "Disable ESP" or "Enable ESP"

    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            if espEnabled then
                if player.Character and not highlights[player.Name] then
                    local highlight = Instance.new("Highlight")
                    highlight.Adornee = player.Character
                    highlight.Parent = player.Character
                    highlight.FillColor = Color3.new(0, 1, 0)
                    highlight.OutlineColor = Color3.new(1, 1, 1)
                    highlights[player.Name] = highlight
                end
            else
                if highlights[player.Name] then
                    highlights[player.Name]:Destroy()
                    highlights[player.Name] = nil
                end
            end
        end
    end
end)

-- Fly Mode
local FlyButton = Instance.new("TextButton")
FlyButton.Parent = PlayerTab
FlyButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
FlyButton.Size = UDim2.new(1, -20, 0, 30)
FlyButton.Position = UDim2.new(0, 10, 0, 130)
FlyButton.Text = "Fly [OFF]"
FlyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
FlyButton.Font = Enum.Font.Gotham
FlyButton.TextSize = 14

local flying = false
local flySpeed = 50

FlyButton.MouseButton1Click:Connect(function()
    flying = not flying
    FlyButton.Text = flying and "Fly [ON]" or "Fly [OFF]"
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

    if flying and humanoidRootPart then
        game:GetService("RunService").RenderStepped:Connect(function()
            if flying then
                humanoidRootPart.Velocity = humanoidRootPart.CFrame.LookVector * flySpeed
            end
        end)
    end
end)

-- Brightness Slider
local BrightnessSlider = Instance.new("TextBox")
BrightnessSlider.Parent = UtilitiesTab
BrightnessSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
BrightnessSlider.Size = UDim2.new(1, -20, 0, 30)
BrightnessSlider.Position = UDim2.new(0, 10, 0, 50)
BrightnessSlider.Text = "Brightness: 2"
BrightnessSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
BrightnessSlider.Font = Enum.Font.Gotham
BrightnessSlider.TextSize = 14

BrightnessSlider.FocusLost:Connect(function()
    local brightness = tonumber(BrightnessSlider.Text:match("%d+"))
    if brightness then
        game.Lighting.Brightness = brightness
        BrightnessSlider.Text = "Brightness: " .. brightness
    end
end)

-- Reset Character
local ResetButton = Instance.new("TextButton")
ResetButton.Parent = PlayerTab
ResetButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ResetButton.Size = UDim2.new(1, -20, 0, 30)
ResetButton.Position = UDim2.new(0, 10, 0, 170)
ResetButton.Text = "Reset Character"
ResetButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ResetButton.Font = Enum.Font.Gotham
ResetButton.TextSize = 14

ResetButton.MouseButton1Click:Connect(function()
    game.Players.LocalPlayer.Character:BreakJoints()
end)
